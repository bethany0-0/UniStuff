<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
"http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>LecLabW3.agda</title>
<meta name="generator" content="emacs 24.5.1; htmlfontify 0.21" />
<style type="text/css"><!-- 
body { font-family: Monaco;  font-stretch: normal;  font-weight: 500;  font-style: normal;  color: #000000;  background: #ffffff;  font-size: 15pt;  text-decoration: none; }
span.default   { font-family: Monaco;  font-stretch: normal;  font-weight: 500;  font-style: normal;  color: #000000;  background: #ffffff;  font-size: 15pt;  text-decoration: none; }
span.default a { font-family: Monaco;  font-stretch: normal;  font-weight: 500;  font-style: normal;  color: #000000;  background: #ffffff;  font-size: 15pt;  text-decoration: underline; }
span.comment   { color: #c1352c;  font-family: Monaco;  font-stretch: normal;  font-weight: 500;  font-style: normal;  background: #ffffff;  font-size: 15pt;  text-decoration: none; }
span.comment a { color: #c1352c;  font-family: Monaco;  font-stretch: normal;  font-weight: 500;  font-style: normal;  background: #ffffff;  font-size: 15pt;  text-decoration: underline; }
span.agda2-highlight-function-face   { color: #0228d6;  font-family: Monaco;  font-stretch: normal;  font-weight: 500;  font-style: normal;  background: #ffffff;  font-size: 15pt;  text-decoration: none; }
span.agda2-highlight-function-face a { color: #0228d6;  font-family: Monaco;  font-stretch: normal;  font-weight: 500;  font-style: normal;  background: #ffffff;  font-size: 15pt;  text-decoration: underline; }
span.agda2-highlight-number-face   { color: #932092;  font-family: Monaco;  font-stretch: normal;  font-weight: 500;  font-style: normal;  background: #ffffff;  font-size: 15pt;  text-decoration: none; }
span.agda2-highlight-number-face a { color: #932092;  font-family: Monaco;  font-stretch: normal;  font-weight: 500;  font-style: normal;  background: #ffffff;  font-size: 15pt;  text-decoration: underline; }
span.agda2-highlight-inductive-constructor-face   { color: #009800;  font-family: Monaco;  font-stretch: normal;  font-weight: 500;  font-style: normal;  background: #ffffff;  font-size: 15pt;  text-decoration: none; }
span.agda2-highlight-inductive-constructor-face a { color: #009800;  font-family: Monaco;  font-stretch: normal;  font-weight: 500;  font-style: normal;  background: #ffffff;  font-size: 15pt;  text-decoration: underline; }
span.agda2-highlight-primitive-type-face   { color: #0228d6;  font-family: Monaco;  font-stretch: normal;  font-weight: 500;  font-style: normal;  background: #ffffff;  font-size: 15pt;  text-decoration: none; }
span.agda2-highlight-primitive-type-face a { color: #0228d6;  font-family: Monaco;  font-stretch: normal;  font-weight: 500;  font-style: normal;  background: #ffffff;  font-size: 15pt;  text-decoration: underline; }
span.agda2-highlight-bound-variable-face   { font-family: Monaco;  font-stretch: normal;  font-weight: 500;  font-style: normal;  color: #000000;  background: #ffffff;  font-size: 15pt;  text-decoration: none; }
span.agda2-highlight-bound-variable-face a { font-family: Monaco;  font-stretch: normal;  font-weight: 500;  font-style: normal;  color: #000000;  background: #ffffff;  font-size: 15pt;  text-decoration: underline; }
span.agda2-highlight-symbol-face   { color: #515151;  font-family: Monaco;  font-stretch: normal;  font-weight: 500;  font-style: normal;  background: #ffffff;  font-size: 15pt;  text-decoration: none; }
span.agda2-highlight-symbol-face a { color: #515151;  font-family: Monaco;  font-stretch: normal;  font-weight: 500;  font-style: normal;  background: #ffffff;  font-size: 15pt;  text-decoration: underline; }
span.agda2-highlight-datatype-face   { color: #0228d6;  font-family: Monaco;  font-stretch: normal;  font-weight: 500;  font-style: normal;  background: #ffffff;  font-size: 15pt;  text-decoration: none; }
span.agda2-highlight-datatype-face a { color: #0228d6;  font-family: Monaco;  font-stretch: normal;  font-weight: 500;  font-style: normal;  background: #ffffff;  font-size: 15pt;  text-decoration: underline; }
span.agda2-highlight-module-face   { color: #932092;  font-family: Monaco;  font-stretch: normal;  font-weight: 500;  font-style: normal;  background: #ffffff;  font-size: 15pt;  text-decoration: none; }
span.agda2-highlight-module-face a { color: #932092;  font-family: Monaco;  font-stretch: normal;  font-weight: 500;  font-style: normal;  background: #ffffff;  font-size: 15pt;  text-decoration: underline; }
span.agda2-highlight-keyword-face   { color: #d87a00;  font-family: Monaco;  font-stretch: normal;  font-weight: 500;  font-style: normal;  background: #ffffff;  font-size: 15pt;  text-decoration: none; }
span.agda2-highlight-keyword-face a { color: #d87a00;  font-family: Monaco;  font-stretch: normal;  font-weight: 500;  font-style: normal;  background: #ffffff;  font-size: 15pt;  text-decoration: underline; }
 --></style>

    <script type="text/javascript"><!--
  // this function is needed to work around
  // a bug in IE related to element attributes
  function hasClass(obj)
  {
      var result = false;
      if (obj.getAttributeNode("class") != null)
      {
          result = obj.getAttributeNode("class").value;
      }
      return result;
  }

  function stripe(id)
  {
      // the flag we'll use to keep track of
      // whether the current row is odd or even
      var even = false;

      // if arguments are provided to specify the colors
      // of the even & odd rows, then use the them;
      // otherwise use the following defaults:
      var evenColor = arguments[1] ? arguments[1] : "#fff";
      var oddColor  = arguments[2] ? arguments[2] : "#ddd";

      // obtain a reference to the desired table
      // if no such table exists, abort
      var table = document.getElementById(id);
      if (! table) { return; }

      // by definition, tables can have more than one tbody
      // element, so we'll have to get the list of child
      // &lt;tbody&gt;s
      var tbodies = table.getElementsByTagName("tbody");

      // and iterate through them...
      for (var h = 0; h < tbodies.length; h++)
      {
          // find all the &lt;tr&gt; elements...
          var trs = tbodies[h].getElementsByTagName("tr");

          // ... and iterate through them
          for (var i = 0; i < trs.length; i++)
          {
              // avoid rows that have a class attribute
              // or backgroundColor style
              if (! hasClass(trs[i]) &&
                  ! trs[i].style.backgroundColor)
              {
                  // get all the cells in this row...
                  var tds = trs[i].getElementsByTagName("td");

                  // and iterate through them...
                  for (var j = 0; j < tds.length; j++)
                  {
                      var mytd = tds[j];

                      // avoid cells that have a class attribute
                      // or backgroundColor style
                      if (! hasClass(mytd) &&
                          ! mytd.style.backgroundColor)
                      {
                          mytd.style.backgroundColor =
                            even ? evenColor : oddColor;
                      }
                  }
              }
              // flip from odd to even, or vice-versa
              even =  ! even;
          }
      }
  }

  function toggle_invis( name )
  {
      var filter =
        { acceptNode:
          function( node )
          { var classname = node.id;
            if( classname )
            { var classbase = classname.substr( 0, name.length );
              if( classbase == name ) { return NodeFilter.FILTER_ACCEPT; } }
            return NodeFilter.FILTER_SKIP; } };
      var walker = document.createTreeWalker( document.body           ,
                                              NodeFilter.SHOW_ELEMENT ,
                                              filter                  ,
                                              false                   );
      while( walker.nextNode() )
      {
          var e = walker.currentNode;
          if( e.style.display == "none" ) { e.style.display = "inline"; }
          else                            { e.style.display = "none";   }
      }
  }
--> </script>
  </head>
  <body onload="stripe('index'); return true;">

<pre><span class="agda2-highlight-keyword-face">module</span> <span class="agda2-highlight-module-face">LecLabW3</span> <span class="agda2-highlight-keyword-face">where</span>

<span class="agda2-highlight-keyword-face">data</span> <span class="agda2-highlight-datatype-face">List</span> <span class="agda2-highlight-symbol-face">(</span><span class="agda2-highlight-bound-variable-face">A</span> <span class="agda2-highlight-symbol-face">:</span> <span class="agda2-highlight-primitive-type-face">Set</span><span class="agda2-highlight-symbol-face">)</span> <span class="agda2-highlight-symbol-face">:</span> <span class="agda2-highlight-primitive-type-face">Set</span> <span class="agda2-highlight-keyword-face">where</span> 
  <span class="agda2-highlight-inductive-constructor-face">nil</span> <span class="agda2-highlight-symbol-face">:</span> <span class="agda2-highlight-datatype-face">List</span> <span class="agda2-highlight-bound-variable-face">A</span>
  <span class="agda2-highlight-inductive-constructor-face">_∷_</span> <span class="agda2-highlight-symbol-face">:</span> <span class="agda2-highlight-bound-variable-face">A</span> <span class="agda2-highlight-symbol-face">→</span> <span class="agda2-highlight-datatype-face">List</span> <span class="agda2-highlight-bound-variable-face">A</span> <span class="agda2-highlight-symbol-face">→</span> <span class="agda2-highlight-datatype-face">List</span> <span class="agda2-highlight-bound-variable-face">A</span>

<span class="agda2-highlight-keyword-face">infixr</span> <span class="agda2-highlight-number-face">4</span> <span class="agda2-highlight-inductive-constructor-face">_∷_</span>

<span class="agda2-highlight-function-face">_++_</span> <span class="agda2-highlight-symbol-face">:</span> <span class="agda2-highlight-symbol-face">{</span><span class="agda2-highlight-bound-variable-face">A</span> <span class="agda2-highlight-symbol-face">:</span> <span class="agda2-highlight-primitive-type-face">Set</span><span class="agda2-highlight-symbol-face">}</span> <span class="agda2-highlight-symbol-face">→</span> <span class="agda2-highlight-datatype-face">List</span> <span class="agda2-highlight-bound-variable-face">A</span> <span class="agda2-highlight-symbol-face">→</span> <span class="agda2-highlight-datatype-face">List</span> <span class="agda2-highlight-bound-variable-face">A</span> <span class="agda2-highlight-symbol-face">→</span> <span class="agda2-highlight-datatype-face">List</span> <span class="agda2-highlight-bound-variable-face">A</span>
<span class="agda2-highlight-inductive-constructor-face">nil</span> <span class="agda2-highlight-function-face">++</span> <span class="agda2-highlight-bound-variable-face">ys</span> <span class="agda2-highlight-symbol-face">=</span> <span class="agda2-highlight-bound-variable-face">ys</span>
<span class="agda2-highlight-symbol-face">(</span><span class="agda2-highlight-bound-variable-face">x</span> <span class="agda2-highlight-inductive-constructor-face">∷</span> <span class="agda2-highlight-bound-variable-face">xs</span><span class="agda2-highlight-symbol-face">)</span> <span class="agda2-highlight-function-face">++</span> <span class="agda2-highlight-bound-variable-face">ys</span> <span class="agda2-highlight-symbol-face">=</span> <span class="agda2-highlight-bound-variable-face">x</span> <span class="agda2-highlight-inductive-constructor-face">∷</span> <span class="agda2-highlight-bound-variable-face">xs</span> <span class="agda2-highlight-function-face">++</span> <span class="agda2-highlight-bound-variable-face">ys</span>

<span class="agda2-highlight-keyword-face">infixl</span> <span class="agda2-highlight-number-face">5</span> <span class="agda2-highlight-function-face">_++_</span>

<span class="agda2-highlight-keyword-face">data</span> <span class="agda2-highlight-datatype-face">_≡_</span> <span class="agda2-highlight-symbol-face">{</span><span class="agda2-highlight-bound-variable-face">A</span> <span class="agda2-highlight-symbol-face">:</span> <span class="agda2-highlight-primitive-type-face">Set</span><span class="agda2-highlight-symbol-face">}</span> <span class="agda2-highlight-symbol-face">:</span> <span class="agda2-highlight-bound-variable-face">A</span> <span class="agda2-highlight-symbol-face">→</span> <span class="agda2-highlight-bound-variable-face">A</span> <span class="agda2-highlight-symbol-face">→</span> <span class="agda2-highlight-primitive-type-face">Set</span> <span class="agda2-highlight-keyword-face">where</span>
  <span class="agda2-highlight-inductive-constructor-face">refl</span> <span class="agda2-highlight-symbol-face">:</span> <span class="agda2-highlight-symbol-face">{</span><span class="agda2-highlight-bound-variable-face">x</span> <span class="agda2-highlight-symbol-face">:</span> <span class="agda2-highlight-bound-variable-face">A</span><span class="agda2-highlight-symbol-face">}</span> <span class="agda2-highlight-symbol-face">→</span> <span class="agda2-highlight-bound-variable-face">x</span> <span class="agda2-highlight-datatype-face">≡</span> <span class="agda2-highlight-bound-variable-face">x</span>

<span class="agda2-highlight-keyword-face">infix</span> <span class="agda2-highlight-number-face">3</span> <span class="agda2-highlight-datatype-face">_≡_</span> 

<span class="agda2-highlight-function-face">trans-≡</span> <span class="agda2-highlight-symbol-face">:</span> <span class="agda2-highlight-symbol-face">{</span><span class="agda2-highlight-bound-variable-face">A</span> <span class="agda2-highlight-symbol-face">:</span> <span class="agda2-highlight-primitive-type-face">Set</span><span class="agda2-highlight-symbol-face">}</span> <span class="agda2-highlight-symbol-face">→</span> <span class="agda2-highlight-symbol-face">(</span><span class="agda2-highlight-bound-variable-face">a</span> <span class="agda2-highlight-bound-variable-face">b</span> <span class="agda2-highlight-bound-variable-face">c</span> <span class="agda2-highlight-symbol-face">:</span> <span class="agda2-highlight-bound-variable-face">A</span><span class="agda2-highlight-symbol-face">)</span> <span class="agda2-highlight-symbol-face">→</span> <span class="agda2-highlight-bound-variable-face">a</span> <span class="agda2-highlight-datatype-face">≡</span> <span class="agda2-highlight-bound-variable-face">b</span> <span class="agda2-highlight-symbol-face">→</span> <span class="agda2-highlight-bound-variable-face">b</span> <span class="agda2-highlight-datatype-face">≡</span> <span class="agda2-highlight-bound-variable-face">c</span> <span class="agda2-highlight-symbol-face">→</span> <span class="agda2-highlight-bound-variable-face">a</span> <span class="agda2-highlight-datatype-face">≡</span> <span class="agda2-highlight-bound-variable-face">c</span>
<span class="agda2-highlight-function-face">trans-≡</span> <span class="agda2-highlight-bound-variable-face">a</span> <span class="agda2-highlight-symbol-face">.</span><span class="agda2-highlight-bound-variable-face">a</span> <span class="agda2-highlight-symbol-face">.</span><span class="agda2-highlight-bound-variable-face">a</span> <span class="agda2-highlight-inductive-constructor-face">refl</span> <span class="agda2-highlight-inductive-constructor-face">refl</span> <span class="agda2-highlight-symbol-face">=</span> <span class="agda2-highlight-inductive-constructor-face">refl</span> 

<span class="agda2-highlight-function-face">sym-≡</span> <span class="agda2-highlight-symbol-face">:</span> <span class="agda2-highlight-symbol-face">{</span><span class="agda2-highlight-bound-variable-face">A</span> <span class="agda2-highlight-symbol-face">:</span> <span class="agda2-highlight-primitive-type-face">Set</span><span class="agda2-highlight-symbol-face">}</span> <span class="agda2-highlight-symbol-face">→</span> <span class="agda2-highlight-symbol-face">(</span><span class="agda2-highlight-bound-variable-face">a</span> <span class="agda2-highlight-bound-variable-face">b</span> <span class="agda2-highlight-symbol-face">:</span> <span class="agda2-highlight-bound-variable-face">A</span><span class="agda2-highlight-symbol-face">)</span> <span class="agda2-highlight-symbol-face">→</span> <span class="agda2-highlight-bound-variable-face">a</span> <span class="agda2-highlight-datatype-face">≡</span> <span class="agda2-highlight-bound-variable-face">b</span> <span class="agda2-highlight-symbol-face">→</span> <span class="agda2-highlight-bound-variable-face">b</span> <span class="agda2-highlight-datatype-face">≡</span> <span class="agda2-highlight-bound-variable-face">a</span>
<span class="agda2-highlight-function-face">sym-≡</span> <span class="agda2-highlight-bound-variable-face">a</span> <span class="agda2-highlight-symbol-face">.</span><span class="agda2-highlight-bound-variable-face">a</span> <span class="agda2-highlight-inductive-constructor-face">refl</span> <span class="agda2-highlight-symbol-face">=</span> <span class="agda2-highlight-inductive-constructor-face">refl</span> 

<span class="agda2-highlight-function-face">cong-≡</span> <span class="agda2-highlight-symbol-face">:</span> <span class="agda2-highlight-symbol-face">{</span><span class="agda2-highlight-bound-variable-face">A</span> <span class="agda2-highlight-bound-variable-face">B</span> <span class="agda2-highlight-symbol-face">:</span> <span class="agda2-highlight-primitive-type-face">Set</span><span class="agda2-highlight-symbol-face">}</span> <span class="agda2-highlight-symbol-face">→</span> <span class="agda2-highlight-symbol-face">(</span><span class="agda2-highlight-bound-variable-face">a</span> <span class="agda2-highlight-bound-variable-face">b</span> <span class="agda2-highlight-symbol-face">:</span> <span class="agda2-highlight-bound-variable-face">A</span><span class="agda2-highlight-symbol-face">)</span> <span class="agda2-highlight-symbol-face">(</span><span class="agda2-highlight-bound-variable-face">f</span> <span class="agda2-highlight-symbol-face">:</span> <span class="agda2-highlight-bound-variable-face">A</span> <span class="agda2-highlight-symbol-face">→</span> <span class="agda2-highlight-bound-variable-face">B</span><span class="agda2-highlight-symbol-face">)</span> <span class="agda2-highlight-symbol-face">→</span> <span class="agda2-highlight-bound-variable-face">a</span> <span class="agda2-highlight-datatype-face">≡</span> <span class="agda2-highlight-bound-variable-face">b</span> <span class="agda2-highlight-symbol-face">→</span> <span class="agda2-highlight-bound-variable-face">f</span> <span class="agda2-highlight-bound-variable-face">a</span> <span class="agda2-highlight-datatype-face">≡</span> <span class="agda2-highlight-bound-variable-face">f</span> <span class="agda2-highlight-bound-variable-face">b</span>
<span class="agda2-highlight-function-face">cong-≡</span> <span class="agda2-highlight-bound-variable-face">a</span> <span class="agda2-highlight-symbol-face">.</span><span class="agda2-highlight-bound-variable-face">a</span> <span class="agda2-highlight-bound-variable-face">f</span> <span class="agda2-highlight-inductive-constructor-face">refl</span> <span class="agda2-highlight-symbol-face">=</span> <span class="agda2-highlight-inductive-constructor-face">refl</span> 

<span class="comment">-- List is a monoid</span><span class="comment">
</span>
<span class="comment">-- Informally: nil ++ xs = xs</span><span class="comment">
</span><span class="comment">-- Proof directly from the definition of ++ </span><span class="comment">
</span>
<span class="agda2-highlight-function-face">nil-++</span> <span class="agda2-highlight-symbol-face">:</span> <span class="agda2-highlight-symbol-face">{</span><span class="agda2-highlight-bound-variable-face">A</span> <span class="agda2-highlight-symbol-face">:</span> <span class="agda2-highlight-primitive-type-face">Set</span><span class="agda2-highlight-symbol-face">}</span> <span class="agda2-highlight-symbol-face">→</span> <span class="agda2-highlight-symbol-face">(</span><span class="agda2-highlight-bound-variable-face">xs</span> <span class="agda2-highlight-symbol-face">:</span> <span class="agda2-highlight-datatype-face">List</span> <span class="agda2-highlight-bound-variable-face">A</span><span class="agda2-highlight-symbol-face">)</span> <span class="agda2-highlight-symbol-face">→</span> <span class="agda2-highlight-inductive-constructor-face">nil</span> <span class="agda2-highlight-function-face">++</span> <span class="agda2-highlight-bound-variable-face">xs</span> <span class="agda2-highlight-datatype-face">≡</span> <span class="agda2-highlight-bound-variable-face">xs</span>
<span class="agda2-highlight-function-face">nil-++</span> <span class="agda2-highlight-bound-variable-face">xs</span> <span class="agda2-highlight-symbol-face">=</span> <span class="agda2-highlight-inductive-constructor-face">refl</span>

<span class="comment">-- Informally: xs ++ nil = xs</span><span class="comment">
</span><span class="comment">-- Proof by induction on xs</span><span class="comment">
</span><span class="comment">-- Base case: nil ++ nil = nil  from definition of ++</span><span class="comment">
</span><span class="comment">-- Inductive case</span><span class="comment">
</span><span class="comment">-- Induction Hypothesis : xs ++ nil = xs                                              (note IH in Agda)</span><span class="comment">
</span><span class="comment">-- WTP : (x :: xs) ++ nil = x :: xs                                                   (note Goal in Agda)</span><span class="comment">
</span><span class="comment">-- Note that from definition of ++ we have than (x :: xs) ++ nil = x :: (xs ++ nil)   (note p1 in Agda)  </span><span class="comment">
</span><span class="comment">-- Then, x :: (xs ++ nil) = x :: xs by using the Induction Hypothesis in the context  (note p2 in Agda)</span><span class="comment">
</span><span class="comment">--       x :: .....       = x :: .... </span><span class="comment">
</span>
<span class="agda2-highlight-function-face">++-nil</span> <span class="agda2-highlight-symbol-face">:</span> <span class="agda2-highlight-symbol-face">{</span><span class="agda2-highlight-bound-variable-face">A</span> <span class="agda2-highlight-symbol-face">:</span> <span class="agda2-highlight-primitive-type-face">Set</span><span class="agda2-highlight-symbol-face">}</span> <span class="agda2-highlight-symbol-face">→</span> <span class="agda2-highlight-symbol-face">(</span><span class="agda2-highlight-bound-variable-face">xs</span> <span class="agda2-highlight-symbol-face">:</span> <span class="agda2-highlight-datatype-face">List</span> <span class="agda2-highlight-bound-variable-face">A</span><span class="agda2-highlight-symbol-face">)</span> <span class="agda2-highlight-symbol-face">→</span> <span class="agda2-highlight-bound-variable-face">xs</span> <span class="agda2-highlight-function-face">++</span> <span class="agda2-highlight-inductive-constructor-face">nil</span> <span class="agda2-highlight-datatype-face">≡</span> <span class="agda2-highlight-bound-variable-face">xs</span>
<span class="agda2-highlight-function-face">++-nil</span> <span class="agda2-highlight-inductive-constructor-face">nil</span> <span class="agda2-highlight-symbol-face">=</span> <span class="agda2-highlight-inductive-constructor-face">refl</span>
<span class="agda2-highlight-function-face">++-nil</span> <span class="agda2-highlight-symbol-face">(</span><span class="agda2-highlight-bound-variable-face">x</span> <span class="agda2-highlight-inductive-constructor-face">∷</span> <span class="agda2-highlight-bound-variable-face">xs</span><span class="agda2-highlight-symbol-face">)</span> <span class="agda2-highlight-symbol-face">=</span> <span class="agda2-highlight-function-face">Goal</span> <span class="agda2-highlight-keyword-face">where</span>
  <span class="agda2-highlight-function-face">IH</span> <span class="agda2-highlight-symbol-face">:</span> <span class="agda2-highlight-bound-variable-face">xs</span> <span class="agda2-highlight-function-face">++</span> <span class="agda2-highlight-inductive-constructor-face">nil</span> <span class="agda2-highlight-datatype-face">≡</span> <span class="agda2-highlight-bound-variable-face">xs</span>
  <span class="agda2-highlight-function-face">IH</span> <span class="agda2-highlight-symbol-face">=</span> <span class="agda2-highlight-function-face">++-nil</span> <span class="agda2-highlight-bound-variable-face">xs</span>      <span class="comment">-- we apply the proposition to prove to the tail to get the IH</span><span class="comment">
</span>  <span class="agda2-highlight-function-face">p1</span> <span class="agda2-highlight-symbol-face">:</span> <span class="agda2-highlight-symbol-face">(</span><span class="agda2-highlight-bound-variable-face">x</span> <span class="agda2-highlight-inductive-constructor-face">∷</span> <span class="agda2-highlight-bound-variable-face">xs</span><span class="agda2-highlight-symbol-face">)</span> <span class="agda2-highlight-function-face">++</span> <span class="agda2-highlight-inductive-constructor-face">nil</span> <span class="agda2-highlight-datatype-face">≡</span> <span class="agda2-highlight-bound-variable-face">x</span> <span class="agda2-highlight-inductive-constructor-face">∷</span> <span class="agda2-highlight-symbol-face">(</span><span class="agda2-highlight-bound-variable-face">xs</span> <span class="agda2-highlight-function-face">++</span> <span class="agda2-highlight-inductive-constructor-face">nil</span><span class="agda2-highlight-symbol-face">)</span>
  <span class="agda2-highlight-function-face">p1</span> <span class="agda2-highlight-symbol-face">=</span> <span class="agda2-highlight-inductive-constructor-face">refl</span>           <span class="comment">-- from the definition of ++, which is automatically resolved by Agda</span><span class="comment">
</span>                      <span class="comment">-- note that this proposition is superfluous and could be ommitted </span><span class="comment">
</span>  <span class="agda2-highlight-function-face">p2</span> <span class="agda2-highlight-symbol-face">:</span> <span class="agda2-highlight-bound-variable-face">x</span> <span class="agda2-highlight-inductive-constructor-face">∷</span> <span class="agda2-highlight-symbol-face">(</span><span class="agda2-highlight-bound-variable-face">xs</span> <span class="agda2-highlight-function-face">++</span> <span class="agda2-highlight-inductive-constructor-face">nil</span><span class="agda2-highlight-symbol-face">)</span> <span class="agda2-highlight-datatype-face">≡</span> <span class="agda2-highlight-bound-variable-face">x</span> <span class="agda2-highlight-inductive-constructor-face">∷</span> <span class="agda2-highlight-bound-variable-face">xs</span>
  <span class="agda2-highlight-function-face">p2</span> <span class="agda2-highlight-symbol-face">=</span> <span class="agda2-highlight-function-face">cong-≡</span> <span class="agda2-highlight-symbol-face">(</span><span class="agda2-highlight-bound-variable-face">xs</span> <span class="agda2-highlight-function-face">++</span> <span class="agda2-highlight-inductive-constructor-face">nil</span><span class="agda2-highlight-symbol-face">)</span> <span class="agda2-highlight-bound-variable-face">xs</span> <span class="agda2-highlight-symbol-face">(</span><span class="agda2-highlight-symbol-face">λ</span> <span class="agda2-highlight-bound-variable-face">■</span> <span class="agda2-highlight-symbol-face">→</span> <span class="agda2-highlight-bound-variable-face">x</span> <span class="agda2-highlight-inductive-constructor-face">∷</span> <span class="agda2-highlight-bound-variable-face">■</span><span class="agda2-highlight-symbol-face">)</span> <span class="agda2-highlight-function-face">IH</span>
                      <span class="comment">-- apply congruence reasoning for the IH in the context x ∷ ...</span><span class="comment">
</span>                      <span class="comment">-- written as the function λ a → x ∷ a but with ■ instead of a to emphasise it is a 'hole'</span><span class="comment">
</span>  <span class="agda2-highlight-function-face">Goal</span> <span class="agda2-highlight-symbol-face">:</span> <span class="agda2-highlight-symbol-face">(</span><span class="agda2-highlight-bound-variable-face">x</span> <span class="agda2-highlight-inductive-constructor-face">∷</span> <span class="agda2-highlight-bound-variable-face">xs</span><span class="agda2-highlight-symbol-face">)</span> <span class="agda2-highlight-function-face">++</span> <span class="agda2-highlight-inductive-constructor-face">nil</span> <span class="agda2-highlight-datatype-face">≡</span> <span class="agda2-highlight-bound-variable-face">x</span> <span class="agda2-highlight-inductive-constructor-face">∷</span> <span class="agda2-highlight-bound-variable-face">xs</span>
  <span class="agda2-highlight-function-face">Goal</span> <span class="agda2-highlight-symbol-face">=</span> <span class="agda2-highlight-function-face">trans-≡</span> <span class="agda2-highlight-symbol-face">(</span><span class="agda2-highlight-bound-variable-face">x</span> <span class="agda2-highlight-inductive-constructor-face">∷</span> <span class="agda2-highlight-bound-variable-face">xs</span> <span class="agda2-highlight-function-face">++</span> <span class="agda2-highlight-inductive-constructor-face">nil</span><span class="agda2-highlight-symbol-face">)</span> <span class="agda2-highlight-symbol-face">(</span><span class="agda2-highlight-bound-variable-face">x</span> <span class="agda2-highlight-inductive-constructor-face">∷</span> <span class="agda2-highlight-bound-variable-face">xs</span> <span class="agda2-highlight-function-face">++</span> <span class="agda2-highlight-inductive-constructor-face">nil</span><span class="agda2-highlight-symbol-face">)</span> <span class="agda2-highlight-symbol-face">(</span><span class="agda2-highlight-bound-variable-face">x</span> <span class="agda2-highlight-inductive-constructor-face">∷</span> <span class="agda2-highlight-bound-variable-face">xs</span><span class="agda2-highlight-symbol-face">)</span> <span class="agda2-highlight-function-face">p1</span> <span class="agda2-highlight-function-face">p2</span>
                      <span class="comment">-- apply the transitivity of equality between p1 and p2, basically</span><span class="comment">
</span>                      <span class="comment">-- x ∷ xs ++ nil = x ∷ xs ++ nil = x ∷ xs</span><span class="comment">
</span>
<span class="comment">-- Informally :  xs ++ (ys ++ zs) = xs ++ (</span><span class="comment">ys</span><span class="comment"> ++ zs)</span><span class="comment">
</span><span class="comment">-- We prove this by induction on xs</span><span class="comment">
</span><span class="comment">-- Base case is nil ++ (ys ++ zs) ≡ nil ++ (</span><span class="comment">ys</span><span class="comment"> ++ zs), automatic from definition of ++</span><span class="comment">
</span><span class="comment">-- Inductive case </span><span class="comment">
</span><span class="comment">-- Inductive hypothesis :  xs ++ (ys ++ zs) ≡ xs ++ (</span><span class="comment">ys</span><span class="comment"> ++ zs)                    (note IH in Agda)</span><span class="comment">
</span><span class="comment">-- WTP :  x :: xs ++ (ys ++ zs) ≡ x :: xs ++ (</span><span class="comment">ys</span><span class="comment"> ++ zs)                           (note Goal in Agda)        </span><span class="comment">
</span><span class="comment">-- ... which we can immediately see that it is an application of the IH in context x ∷ ...</span><span class="comment">
</span><span class="agda2-highlight-function-face">++-assoc</span> <span class="agda2-highlight-symbol-face">:</span> <span class="agda2-highlight-symbol-face">{</span><span class="agda2-highlight-bound-variable-face">A</span> <span class="agda2-highlight-symbol-face">:</span> <span class="agda2-highlight-primitive-type-face">Set</span><span class="agda2-highlight-symbol-face">}</span> <span class="agda2-highlight-symbol-face">→</span> <span class="agda2-highlight-symbol-face">(</span><span class="agda2-highlight-bound-variable-face">xs</span> <span class="agda2-highlight-bound-variable-face">ys</span> <span class="agda2-highlight-bound-variable-face">zs</span> <span class="agda2-highlight-symbol-face">:</span> <span class="agda2-highlight-datatype-face">List</span> <span class="agda2-highlight-bound-variable-face">A</span><span class="agda2-highlight-symbol-face">)</span> <span class="agda2-highlight-symbol-face">→</span> <span class="agda2-highlight-symbol-face">(</span><span class="agda2-highlight-bound-variable-face">xs</span> <span class="agda2-highlight-function-face">++</span> <span class="agda2-highlight-bound-variable-face">ys</span><span class="agda2-highlight-symbol-face">)</span> <span class="agda2-highlight-function-face">++</span> <span class="agda2-highlight-bound-variable-face">zs</span> <span class="agda2-highlight-datatype-face">≡</span> <span class="agda2-highlight-bound-variable-face">xs</span> <span class="agda2-highlight-function-face">++</span> <span class="agda2-highlight-symbol-face">(</span><span class="agda2-highlight-bound-variable-face">ys</span> <span class="agda2-highlight-function-face">++</span> <span class="agda2-highlight-bound-variable-face">zs</span><span class="agda2-highlight-symbol-face">)</span>
<span class="agda2-highlight-function-face">++-assoc</span> <span class="agda2-highlight-inductive-constructor-face">nil</span> <span class="agda2-highlight-bound-variable-face">ys</span> <span class="agda2-highlight-bound-variable-face">zs</span> <span class="agda2-highlight-symbol-face">=</span> <span class="agda2-highlight-inductive-constructor-face">refl</span>                   <span class="comment">-- automatic from definitions, which are resolved by Agda</span><span class="comment">
</span><span class="agda2-highlight-function-face">++-assoc</span> <span class="agda2-highlight-symbol-face">(</span><span class="agda2-highlight-bound-variable-face">x</span> <span class="agda2-highlight-inductive-constructor-face">∷</span> <span class="agda2-highlight-bound-variable-face">xs</span><span class="agda2-highlight-symbol-face">)</span> <span class="agda2-highlight-bound-variable-face">ys</span> <span class="agda2-highlight-bound-variable-face">zs</span> <span class="agda2-highlight-symbol-face">=</span> <span class="agda2-highlight-function-face">Goal</span> <span class="agda2-highlight-keyword-face">where</span>
  <span class="agda2-highlight-function-face">IH</span> <span class="agda2-highlight-symbol-face">:</span>  <span class="agda2-highlight-symbol-face">∀</span> <span class="agda2-highlight-bound-variable-face">ys</span> <span class="agda2-highlight-bound-variable-face">zs</span> <span class="agda2-highlight-symbol-face">→</span> <span class="agda2-highlight-symbol-face">(</span><span class="agda2-highlight-bound-variable-face">xs</span> <span class="agda2-highlight-function-face">++</span> <span class="agda2-highlight-bound-variable-face">ys</span><span class="agda2-highlight-symbol-face">)</span> <span class="agda2-highlight-function-face">++</span> <span class="agda2-highlight-bound-variable-face">zs</span> <span class="agda2-highlight-datatype-face">≡</span> <span class="agda2-highlight-bound-variable-face">xs</span> <span class="agda2-highlight-function-face">++</span> <span class="agda2-highlight-symbol-face">(</span><span class="agda2-highlight-bound-variable-face">ys</span> <span class="agda2-highlight-function-face">++</span> <span class="agda2-highlight-bound-variable-face">zs</span><span class="agda2-highlight-symbol-face">)</span> 
  <span class="agda2-highlight-function-face">IH</span> <span class="agda2-highlight-symbol-face">=</span> <span class="agda2-highlight-symbol-face">λ</span> <span class="agda2-highlight-bound-variable-face">ys</span> <span class="agda2-highlight-bound-variable-face">zs</span> <span class="agda2-highlight-symbol-face">→</span> <span class="agda2-highlight-function-face">++-assoc</span> <span class="agda2-highlight-bound-variable-face">xs</span> <span class="agda2-highlight-bound-variable-face">ys</span> <span class="agda2-highlight-bound-variable-face">zs</span>          <span class="comment">-- IH is obtained from applying ++-assoc to xs</span><span class="comment">
</span>                                            <span class="comment">-- Note that is stronger than</span><span class="comment">
</span>                                            <span class="comment">-- IH : (</span><span class="comment">xs</span><span class="comment"> ++ ys) ++ zs ≡ xs ++ (</span><span class="comment">ys</span><span class="comment"> ++ zs)</span><span class="comment">
</span>                                            <span class="comment">-- This is not needed now but it could be needed in other proofs</span><span class="comment">
</span>  <span class="agda2-highlight-function-face">Goal</span> <span class="agda2-highlight-symbol-face">:</span> <span class="agda2-highlight-bound-variable-face">x</span> <span class="agda2-highlight-inductive-constructor-face">∷</span> <span class="agda2-highlight-symbol-face">(</span><span class="agda2-highlight-bound-variable-face">xs</span> <span class="agda2-highlight-function-face">++</span> <span class="agda2-highlight-bound-variable-face">ys</span> <span class="agda2-highlight-function-face">++</span> <span class="agda2-highlight-bound-variable-face">zs</span><span class="agda2-highlight-symbol-face">)</span> <span class="agda2-highlight-datatype-face">≡</span> <span class="agda2-highlight-bound-variable-face">x</span> <span class="agda2-highlight-inductive-constructor-face">∷</span> <span class="agda2-highlight-symbol-face">(</span><span class="agda2-highlight-bound-variable-face">xs</span> <span class="agda2-highlight-function-face">++</span> <span class="agda2-highlight-symbol-face">(</span><span class="agda2-highlight-bound-variable-face">ys</span> <span class="agda2-highlight-function-face">++</span> <span class="agda2-highlight-bound-variable-face">zs</span><span class="agda2-highlight-symbol-face">)</span><span class="agda2-highlight-symbol-face">)</span>
  <span class="agda2-highlight-function-face">Goal</span> <span class="agda2-highlight-symbol-face">=</span> <span class="agda2-highlight-function-face">cong-≡</span> <span class="agda2-highlight-symbol-face">(</span><span class="agda2-highlight-bound-variable-face">xs</span> <span class="agda2-highlight-function-face">++</span> <span class="agda2-highlight-bound-variable-face">ys</span> <span class="agda2-highlight-function-face">++</span> <span class="agda2-highlight-bound-variable-face">zs</span><span class="agda2-highlight-symbol-face">)</span> <span class="agda2-highlight-symbol-face">(</span><span class="agda2-highlight-bound-variable-face">xs</span> <span class="agda2-highlight-function-face">++</span> <span class="agda2-highlight-symbol-face">(</span><span class="agda2-highlight-bound-variable-face">ys</span> <span class="agda2-highlight-function-face">++</span> <span class="agda2-highlight-bound-variable-face">zs</span><span class="agda2-highlight-symbol-face">)</span><span class="agda2-highlight-symbol-face">)</span> <span class="agda2-highlight-symbol-face">(</span><span class="agda2-highlight-symbol-face">λ</span> <span class="agda2-highlight-bound-variable-face">■</span> <span class="agda2-highlight-symbol-face">→</span> <span class="agda2-highlight-bound-variable-face">x</span> <span class="agda2-highlight-inductive-constructor-face">∷</span> <span class="agda2-highlight-bound-variable-face">■</span><span class="agda2-highlight-symbol-face">)</span> <span class="agda2-highlight-symbol-face">(</span><span class="agda2-highlight-function-face">IH</span> <span class="agda2-highlight-bound-variable-face">ys</span> <span class="agda2-highlight-bound-variable-face">zs</span><span class="agda2-highlight-symbol-face">)</span> 
</pre>

 </body>
</html>
